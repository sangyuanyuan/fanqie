<loop name="FieldsInfo" var="var" key="key">
<literal>
<?php
			$FieldName = $this->_tpl_vars['var']['FieldName'];
			$FieldDataSource = $this->_tpl_vars['var']['FieldDataSource'];
			$valueInfo = $this->_tpl_vars['UserInfo'][$FieldName];
?>
</literal>
	<tr > 
      <td class="table_td1">[$var.FieldTitle]ï¼š
	  
	  </td>
      <td class="table_td2"> 
	  <if test="$var.FieldInput == 'text'">
		<?php echo $valueInfo;?>
	  <elseif test="$var.FieldInput == 'textarea'">
		 <?php echo $valueInfo;?>
	  <elseif test="$var.FieldInput == 'select'">
		<select name="[$var.FieldName] disabled">
		<literal>
 		<?php
			$FieldName = $this->_tpl_vars['var']['FieldName'];
			$FieldDataSource = $this->_tpl_vars['var']['FieldDataSource'];
			$valueInfo = $this->_tpl_vars['UserInfo'][$FieldName];

			if(preg_match("/<sql>(.*)<\/sql>/isU", $FieldDataSource, $match)) {
				
				$resultDSN = $db->Execute($match[1]);
				while(!$resultDSN->EOF) {
					if($valueInfo == $resultDSN->fields['value']) {
						echo  $resultDSN->fields[value];
					} 
				
					$resultDSN->MoveNext();
				}
			} else if(preg_match("/<List>(.*)<\/List>/isU", $FieldDataSource, $match)) {
				if(preg_match_all("/<var>(.*)<\/var>/isU", $FieldDataSource, $matches)) {
					foreach($matches[1] as $dsnkey=>$dsnvalue) {
						preg_match("/<title>(.*)<\/title>/isU", $dsnvalue, $titleMatch);
						preg_match("/<value>(.*)<\/value>/isU", $dsnvalue, $valueMatch);
						if($valueInfo == $valueMatch[1]) {
							echo $titleMatch[1];
						} 


					}
				}
			}
		?>  
		</literal>

		</select>
	  <elseif test="$var.FieldInput == 'radio'">
	<literal>
 		<?php
			$FieldName = $this->_tpl_vars['var']['FieldName'];
			$FieldDataSource = $this->_tpl_vars['var']['FieldDataSource'];
 			$valueInfo = $this->_tpl_vars['UserInfo'][$FieldName];
			if(preg_match("/<sql>(.*)<\/sql>/isU", $FieldDataSource, $match)) {
				
				$resultDSN = $db->Execute($match[1]);
				$i=0;
				while(!$resultDSN->EOF) {
				 
					if($valueInfo== $resultDSN->fields['value']) {
						echo "<INPUT TYPE='radio' NAME='{$FieldName}' id='{$FieldName}{$i}' value='". $resultDSN->fields[value] ."' checked disabled>";
						echo "<label for='{$FieldName}{$i}'>". $resultDSN->fields[title] ."</label>";		
					} else {
						echo "<INPUT TYPE='radio' NAME='{$FieldName}' id='{$FieldName}{$i}' value='". $resultDSN->fields[value] ."' disabled>";
						echo "<label for='{$FieldName}{$i}'>". $resultDSN->fields[title] ."</label>";					
					}
					$i++;
				 
					$resultDSN->MoveNext();
				}
			} else if(preg_match("/<List>(.*)<\/List>/isU", $FieldDataSource, $match)) {
			 
				if(preg_match_all("/<var>(.*)<\/var>/isU", $FieldDataSource, $matches)) {
					 
					foreach($matches[1] as $dsnkey=>$dsnvalue) {
						preg_match("/<title>(.*)<\/title>/isU", $dsnvalue, $titleMatch);
						preg_match("/<value>(.*)<\/value>/isU", $dsnvalue, $valueMatch);
						if($valueInfo == $valueMatch[1]) {
 							echo "<INPUT TYPE='radio' NAME='{$FieldName}' id='{$FieldName}{$dsnkey}' value='". $valueMatch[1] ."' checked disabled>";
							echo "<label for='{$FieldName}{$dsnkey}'>". $titleMatch[1] ."</label>";
						} else {
 							echo "<INPUT TYPE='radio' NAME='{$FieldName}' id='{$FieldName}{$dsnkey}' value='". $valueMatch[1] ."' disabled>";
							echo "<label for='{$FieldName}{$dsnkey}'>". $titleMatch[1] ."</label>";
						}


					}
				}
				 
			}
		?>  
		</literal>
	  <elseif test="$var.FieldInput == 'checkbox'">
	<literal>
 		<?php
			$FieldName = $this->_tpl_vars['var']['FieldName'];
			$FieldDataSource = $this->_tpl_vars['var']['FieldDataSource'];
			$valueInfo = explode(",", $this->_tpl_vars['UserInfo'][$FieldName]);
			
			if(preg_match("/<sql>(.*)<\/sql>/isU", $FieldDataSource, $match)) {
				
				$resultDSN = $db->Execute($match[1]);
				$i=0;
				while(!$resultDSN->EOF) {
				 
					if(in_array($resultDSN->fields['value'], $valueInfo)) {
						echo "<INPUT TYPE='checkbox' NAME='{$FieldName}[]' id='{$FieldName}{$i}' value='". $resultDSN->fields[value] ."' checked disabled>";
						echo "<label for='{$FieldName}{$i}'>". $resultDSN->fields[title] ."</label>";		
					} else {
						echo "<INPUT TYPE='checkbox' NAME='{$FieldName}[]' id='{$FieldName}{$i}' value='". $resultDSN->fields[value] ."'  disabled>";
						echo "<label for='{$FieldName}{$i}'>". $resultDSN->fields[title] ."</label>";				
					}
					$i++;
				 
					$resultDSN->MoveNext();
				}
			} else if(preg_match("/<List>(.*)<\/List>/isU", $FieldDataSource, $match)) {
			 
				if(preg_match_all("/<var>(.*)<\/var>/isU", $FieldDataSource, $matches)) {
					 
					foreach($matches[1] as $dsnkey=>$dsnvalue) {
						preg_match("/<title>(.*)<\/title>/isU", $dsnvalue, $titleMatch);
						preg_match("/<value>(.*)<\/value>/isU", $dsnvalue, $valueMatch);
						if(in_array($valueMatch[1], $valueInfo) ) {
 							echo "<INPUT TYPE='checkbox' NAME='{$FieldName}[]' id='{$FieldName}{$dsnkey}' value='". $valueMatch[1] ."' checked disabled>";
							echo "<label for='{$FieldName}{$dsnkey}'>". $titleMatch[1] ."</label>";
						} else {
 							echo "<INPUT TYPE='checkbox' NAME='{$FieldName}[]' id='{$FieldName}{$dsnkey}' value='". $valueMatch[1] ."'  disabled>";
							echo "<label for='{$FieldName}{$dsnkey}'>". $titleMatch[1] ."</label>";
						}


					}
				}
				 
			}
		?>  
		</literal>		
	  </if>

	 
	  
	  </td>
    </tr>
</loop>
